{"ast":null,"code":"import _objectSpread from\"G:/react/reactapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"G:/react/reactapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"G:/react/reactapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/react/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import WeatherCard from\"./WeatherCard\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Temp=function Temp(){var _useState=useState(\" \"),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),tempInfo=_useState4[0],setTempInfo=_useState4[1];var getWeatherInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,res,data,_data$main,temp,humidity,pressure,weathermood,name,speed,_data$sys,country,sunset,myNewWeatherInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(searchValue,\"&units=metric&appid=9f4d07b6d78b9c25a119aa57f813b9af\");_context.next=4;return fetch(url);case 4:res=_context.sent;_context.next=7;return res.json();case 7:data=_context.sent;_data$main=data.main,temp=_data$main.temp,humidity=_data$main.humidity,pressure=_data$main.pressure;weathermood=data.weather[0].main;name=data.name;speed=data.wind.speed;_data$sys=data.sys,country=_data$sys.country,sunset=_data$sys.sunset;myNewWeatherInfo={temp:temp,humidity:humidity,pressure:pressure,weathermood:weathermood,name:name,speed:speed,country:country,sunset:sunset};setTempInfo(myNewWeatherInfo);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function getWeatherInfo(){return _ref.apply(this,arguments);};}();useEffect(function(){getWeatherInfo();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"search...\",autoFocus:true,id:\"search\",className:\"searchTerm\",value:searchValue,onChange:function onChange(e){return setSearchValue(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"searchButton\",type:\"button\",onClick:getWeatherInfo,children:\"Search\"})]})}),/*#__PURE__*/_jsx(WeatherCard,_objectSpread({},tempInfo))]});};export default Temp;","map":{"version":3,"names":["React","useState","useEffect","WeatherCard","Temp","searchValue","setSearchValue","tempInfo","setTempInfo","getWeatherInfo","url","fetch","res","json","data","main","temp","humidity","pressure","weathermood","weather","name","speed","wind","sys","country","sunset","myNewWeatherInfo","console","log","e","target","value"],"sources":["G:/react/reactapp/src/components/Temp.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport WeatherCard from \"./WeatherCard\";\r\nimport \"./style.css\";\r\n\r\nconst Temp = () => {\r\n    const [searchValue, setSearchValue] = useState(\" \");\r\n    const [tempInfo, setTempInfo] = useState({});\r\n\r\n    const getWeatherInfo = async () => {\r\n        try {\r\n            let url = `https://api.openweathermap.org/data/2.5/weather?q=${searchValue}&units=metric&appid=9f4d07b6d78b9c25a119aa57f813b9af`;\r\n\r\n            let res = await fetch(url);\r\n            let data = await res.json();\r\n\r\n            const { temp, humidity, pressure } = data.main;\r\n            const { main: weathermood } = data.weather[0];\r\n            const { name } = data;\r\n            const { speed } = data.wind;\r\n            const { country, sunset } = data.sys;\r\n\r\n            const myNewWeatherInfo = {\r\n                temp,\r\n                humidity,\r\n                pressure,\r\n                weathermood,\r\n                name,\r\n                speed,\r\n                country,\r\n                sunset,\r\n            };\r\n\r\n            setTempInfo(myNewWeatherInfo);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getWeatherInfo();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"wrap\">\r\n                <div className=\"search\">\r\n                    <input\r\n                        type=\"search\"\r\n                        placeholder=\"search...\"\r\n                        autoFocus\r\n                        id=\"search\"\r\n                        className=\"searchTerm\"\r\n                        value={searchValue}\r\n                        onChange={(e) => setSearchValue(e.target.value)}\r\n                    />\r\n\r\n                    <button\r\n                        className=\"searchButton\"\r\n                        type=\"button\"\r\n                        onClick={getWeatherInfo}>\r\n                        Search\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* our temp card  */}\r\n            <WeatherCard {...tempInfo} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Temp;\r\n"],"mappings":"2aAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAO,aAAP,C,6IAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACf,cAAsCH,QAAQ,CAAC,GAAD,CAA9C,wCAAOI,WAAP,eAAoBC,cAApB,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,eAAc,4FAAG,yQAEXC,GAFW,6DAEgDL,WAFhD,+EAICM,MAAK,CAACD,GAAD,CAJN,QAIXE,GAJW,qCAKEA,IAAG,CAACC,IAAJ,EALF,QAKXC,IALW,0BAOsBA,IAAI,CAACC,IAP3B,CAOPC,IAPO,YAOPA,IAPO,CAODC,QAPC,YAODA,QAPC,CAOSC,QAPT,YAOSA,QAPT,CAQDC,WARC,CAQeL,IAAI,CAACM,OAAL,CAAa,CAAb,CARf,CAQPL,IARO,CASPM,IATO,CASEP,IATF,CASPO,IATO,CAUPC,KAVO,CAUGR,IAAI,CAACS,IAVR,CAUPD,KAVO,WAWaR,IAAI,CAACU,GAXlB,CAWPC,OAXO,WAWPA,OAXO,CAWEC,MAXF,WAWEA,MAXF,CAaTC,gBAbS,CAaU,CACrBX,IAAI,CAAJA,IADqB,CAErBC,QAAQ,CAARA,QAFqB,CAGrBC,QAAQ,CAARA,QAHqB,CAIrBC,WAAW,CAAXA,WAJqB,CAKrBE,IAAI,CAAJA,IALqB,CAMrBC,KAAK,CAALA,KANqB,CAOrBG,OAAO,CAAPA,OAPqB,CAQrBC,MAAM,CAANA,MARqB,CAbV,CAwBflB,WAAW,CAACmB,gBAAD,CAAX,CAxBe,iFA0BfC,OAAO,CAACC,GAAR,cA1Be,qEAAH,kBAAdpB,eAAc,0CAApB,CA8BAP,SAAS,CAAC,UAAM,CACZO,cAAc,GACjB,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACI,wCACI,YAAK,SAAS,CAAC,MAAf,uBACI,aAAK,SAAS,CAAC,QAAf,wBACI,cACI,IAAI,CAAC,QADT,CAEI,WAAW,CAAC,WAFhB,CAGI,SAAS,KAHb,CAII,EAAE,CAAC,QAJP,CAKI,SAAS,CAAC,YALd,CAMI,KAAK,CAAEJ,WANX,CAOI,QAAQ,CAAE,kBAACyB,CAAD,QAAOxB,eAAc,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAPd,EADJ,cAWI,eACI,SAAS,CAAC,cADd,CAEI,IAAI,CAAC,QAFT,CAGI,OAAO,CAAEvB,cAHb,oBAXJ,GADJ,EADJ,cAuBI,KAAC,WAAD,kBAAiBF,QAAjB,EAvBJ,GADJ,CA2BH,CAjED,CAmEA,cAAeH,KAAf"},"metadata":{},"sourceType":"module"}